<div class="pack-mes">
  <div class="pack-mes__container">
    <div class="pack-mes__body">
      <form class="pack-mes__form form" [formGroup]="packageForm" (ngSubmit)="onSubmit()">

        <div class="form__body">
          <div class="form__input-box form-content">

            <input
             formControlName="email"
              #inputPackageEmail
              type="email"
              maxlength="100"
              autocomplete="off"
              name="email"
              placeholder="Your email"
              class="form__input message"
              required
            >
            <button type="submit" class="form__btn" [disabled]="!packageForm.valid"><a class="form__link">Send</a></button>

            <div class="form__email-error error-box">
              @if (!packageForm.get('email')?.valid && packageForm.get('email')?.touched) {
                <span
                  class="error">{{ getPackageEmailErrorMessage(inputPackageEmail.value.length || 0) }}</span>
              }
            </div>
          </div>

          <div class="form__textarea-box form-content">
            <textarea
              formControlName="feedback"
              #inputPackageText
              cols="30"
              rows="10"
              type="text"
              autocomplete="off"
              name="feedback"
              placeholder="Message"
              class="form__textarea message"
              (keydown)="onKeydown($event)"
              required
            >
            </textarea>

            <div class="form__text-error error-box error-box--txt">
              @if (!packageForm.get('feedback')?.valid && packageForm.get('feedback')?.touched) {
                <span
                  class="error">{{ getPackageTextErrorMessage(inputPackageText.value.length || 0) }}</span>
              }
            </div>

          </div>
        </div>
      </form>
      <div [ngClass]="showSuccess? 'success':'success success--hide'">
        <div [ngClass]="showSuccess? 'success__body':'success__body success__body--hide'">
          <ul class="success__content">
            <ul class="success__together">
              <li class="success__item success__item--green"><i class="material-symbols-outlined">{{ 'check' }}</i></li>
              <li class="success__item">
                <p class="success__text">Message sent successfully</p>
              </li>
            </ul>
            <ul class="success__close-list" (click)="closeSuccess()">
              <li class="success__item-close"><i class="material-symbols-outlined">{{ 'close' }}</i></li>
            </ul>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
